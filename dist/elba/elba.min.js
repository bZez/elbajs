/*! elba - v0.0.1 - 2014-09-23
* https://github.com/dedalodesign/elbajs
* Copyright (c) 2014 ; Licensed  */
!function(a){"use strict";function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function c(a,b){var c=d(a,b)?f:e;c(a,b)}var d,e,f;"classList"in document.documentElement?(d=function(a,b){return a.classList.contains(b)},e=function(a,b){a.classList.add(b)},f=function(a,b){a.classList.remove(b)}):(d=function(a,c){return b(c).test(a.className)},e=function(a,b){d(a,b)||(a.className=a.className+" "+b)},f=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:d,addClass:e,removeClass:f,toggleClass:c,has:d,add:e,remove:f,toggle:c};"function"==typeof define&&define.amd?define(g):"object"==typeof exports?module.exports=g:a.classie=g}(window),function(a){"use strict";HTMLElement.prototype.wrap=function(a){a.length||(a=[a]);for(var b=a.length-1;b>=0;b--){var c=b>0?this.cloneNode(!0):this,d=a[b],e=d.parentNode,f=d.nextSibling;c.appendChild(d),f?e.insertBefore(c,f):e.appendChild(c)}},Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=a.HTMLCollection.prototype.remove=function(){for(var a=0,b=this.length;b>a;a++)this[a]&&this[a].parentElement&&this[a].parentElement.removeChild(this[a])}}(window),function(a){"use strict";"function"==typeof define&&define.amd?define(a):window.Elba=a()}(function(){"use strict";function a(a,f){var h=this,k=h.el=a;u=!0,q=[],p=j(h.defaults,f),s=window.devicePixelRatio>1,o=0,console.log(k),c(p.selector,k),i(),b(k),d("left"),d("right"),v.left.addEventListener("click",function(a){a.preventDefault(),h.swipe("left")}),v.right.addEventListener("click",function(a){a.preventDefault(),h.swipe("right")}),e(k),g(),h.setupImages()}function b(a){n=document.createElement("div"),n.className="elba-wrapper",n.wrap(a)}function c(a,b){var c=b||document,d=c.querySelectorAll(a);r=d.length;for(var e=r;e--;q.unshift(d[e]));}function d(a){v[a]=document.createElement("a"),v[a].className="elba-"+a+"-nav",v[a].innerHtml=a,n.appendChild(v[a])}function e(a){var b=100*r;b+="%",a.style.width=b}function f(a){var b=a.querySelector(".elba-island");return b?-1!==(" "+b.className+" ").indexOf(" "+p.successClass+" "):!1}function g(){q.forEach(function(a){var b=a.querySelector(".elba-content"),c=document.createElement("div");c.className="elba-island",b?c.wrap(b):a.appendChild(c)})}function h(a){var b=a.getAttribute(t)||a.getAttribute(p.src),c=a.querySelector(".elba-island");if(b){var d=b.split(p.separator),e=d[s&&d.length>1?1:0],f=new Image;f.onerror=function(){p.error&&p.error(a,"invalid"),a.className=a.className+" "+p.errorClass},f.onload=function(){"img"===a.nodeName.toLowerCase()?a.src=e:(console.log(c),c.style.backgroundImage='url("'+e+'")'),w.add(a,"no-bg-img"),w.add(c,p.successClass),p.success&&p.success(a)},f.src=e}else window.alert("noooo")}function i(){var a=k();q.forEach(function(b){b.style.width=a+"px"})}function j(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function k(){return window.innerWidth||document.documentElement.clientWidth}function l(a){return""===a?0:parseInt(a,10)}function m(a,b){if(a&&b)for(var c=a.length,d=0;c>d&&b(a[d],d)!==!1;d++);}var n,o,p,q,r,s,t,u,v={left:null,right:null,dots:null},w=window.classie;return a.prototype={defaults:{selector:".elba",separator:"|",breakpoints:!1,successClass:"elba-loaded",errorClass:"elba-error",src:"data-src",error:!1,success:!1},setupImages:function(){var a=this;m(p.breakpoints,function(a){return a.width>=window.screen.width?(t=a.src,!1):void 0});for(var b=0;b<q.length;b++){var c=q[b];c&&a.load(c)}},load:function(a){f(a)||h(a)},swipe:function(a){var b,c=this;if("right"===a){if(o+1>=r)return console.log("maximum"),!1;o++,b=l(c.el.style.left)-l(q[o].offsetWidth),c.el.style.left=b+"px"}else{if(0>o-1)return console.log("minimum"),!1;o--,b=l(c.el.style.left)+l(q[o].offsetWidth),c.el.style.left=b+"px"}}},a});