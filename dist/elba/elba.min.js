/*! elba - v0.0.1 - 2014-09-23
* https://github.com/dedalodesign/elbajs
* Copyright (c) 2014 ; Licensed  */
!function(a){"use strict";function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function c(a,b){var c=d(a,b)?f:e;c(a,b)}var d,e,f;"classList"in document.documentElement?(d=function(a,b){return a.classList.contains(b)},e=function(a,b){a.classList.add(b)},f=function(a,b){a.classList.remove(b)}):(d=function(a,c){return b(c).test(a.className)},e=function(a,b){d(a,b)||(a.className=a.className+" "+b)},f=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:d,addClass:e,removeClass:f,toggleClass:c,has:d,add:e,remove:f,toggle:c};"function"==typeof define&&define.amd?define(g):"object"==typeof exports?module.exports=g:a.classie=g}(window),function(a){"use strict";HTMLElement.prototype.wrap=function(a){a.length||(a=[a]);for(var b=a.length-1;b>=0;b--){var c=b>0?this.cloneNode(!0):this,d=a[b],e=d.parentNode,f=d.nextSibling;c.appendChild(d),f?e.insertBefore(c,f):e.appendChild(c)}},Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=a.HTMLCollection.prototype.remove=function(){for(var a=0,b=this.length;b>a;a++)this[a]&&this[a].parentElement&&this[a].parentElement.removeChild(this[a])}}(window),function(a){"use strict";"function"==typeof define&&define.amd?define(a):window.Elba=a()}(function(){"use strict";function a(a,c){this.el=a,r=!0,n=[],m=b(this.defaults,c),p=window.devicePixelRatio>1,l=0,this._init()}function b(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(a,b){var c=b||document,d=c.querySelectorAll(a);o=d.length;for(var e=o;e--;n.unshift(d[e]));}function d(a){var b=a.querySelector(".elba-island");return b?-1!==(" "+b.className+" ").indexOf(" "+m.successClass+" "):!1}function e(){n.forEach(function(a){var b=a.querySelector(".elba-content"),c=document.createElement("div");c.className="elba-island",b?c.wrap(b):a.appendChild(c)})}function f(a){var b=a.getAttribute(q)||a.getAttribute(m.src),c=a.querySelector(".elba-island");if(b){var d=b.split(m.separator),e=d[p&&d.length>1?1:0],f=new Image;f.onerror=function(){m.error&&m.error(a,"invalid"),a.className=a.className+" "+m.errorClass},f.onload=function(){"img"===a.nodeName.toLowerCase()?a.src=e:(console.log(c),c.style.backgroundImage='url("'+e+'")'),window.classie.add(a,"no-bg-img"),window.classie.add(c,m.successClass),m.success&&m.success(a)},f.src=e}else window.alert("noooo")}function g(){var a=h();n.forEach(function(b){b.style.width=a+"px"})}function h(){return window.innerWidth||document.documentElement.clientWidth}function i(a){return""===a?0:parseInt(a,10)}function j(a,b){if(a&&b)for(var c=a.length,d=0;c>d&&b(a[d],d)!==!1;d++);}var k,l,m,n,o,p,q,r,s={left:null,right:null,dots:null};return a.prototype={defaults:{selector:".elba",separator:"|",breakpoints:!1,successClass:"elba-loaded",errorClass:"elba-error",src:"data-src",error:!1,success:!1},_init:function(){var a=this;c(m.selector,a.el),g(),a._setupWrapper(),a._setupNavigation("left"),a._setupNavigation("right"),a._setupCarousel(),a._setupImages()},_setupWrapper:function(){var a=this;k=document.createElement("div"),k.className="elba-wrapper",k.wrap(a.el)},_setupNavigation:function(a){var b=this;s[a]=document.createElement("a"),s[a].className="elba-"+a+"-nav",s[a].innerHtml=a,k.appendChild(s[a]),s[a].addEventListener("click",function(c){c.preventDefault(),b._swipe(a)})},_setupCarousel:function(){var a=this,b=100*o;b+="%",a.el.style.width=b},_setupImages:function(){var a=this;j(m.breakpoints,function(a){return a.width>=window.screen.width?(q=a.src,!1):void 0}),e();for(var b=0;b<n.length;b++){var c=n[b];c&&a._load(c)}},_load:function(a){d(a)||f(a)},_swipe:function(a){var b,c=this;if("right"===a){if(l+1>=o)return console.log("maximum"),!1;l++,b=i(c.el.style.left)-i(n[l].offsetWidth),c.el.style.left=b+"px"}else{if(0>l-1)return console.log("minimum"),!1;l--,b=i(c.el.style.left)+i(n[l].offsetWidth),c.el.style.left=b+"px"}}},a});