/*! elba - v0.5.0 - 2015-12-07
* https://github.com/iliketomatoes/elbajs
* Copyright (c) 2015 ; Licensed  */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b()):a.Elba=b()}(window,function(){"use strict";function a(a){this.el=a,this.slides=[],this.count=0,this.source=0,this.navigation={left:null,right:null,dots:null},this.pointer=0,this.directionHint="right",this.resizeTimeout=null,this.animated=!1}{var b,c,d=0,e={};window.devicePixelRatio>1}"undefined"!=typeof document.hidden?(b="hidden",c="visibilitychange"):"undefined"!=typeof document.mozHidden?(b="mozHidden",c="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(b=" msHidden",c="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(b="webkitHidden",c="webkitvisibilitychange");var f={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},getSupportedTransform:function(){for(var a=document.createElement("div"),b="transform WebkitTransform MozTransform OTransform msTransform".split(" "),c=0;c<b.length;c++)if(void 0!==a.style[b[c]])return b[c];return!1}(),isElementInViewport:function(a){var b=a.getBoundingClientRect();return b.top>=0&&b.top<=(window.innerHeight||document.documentElement.clientHeight)||b.bottom>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)},makeArray:function(a){return Array.prototype.slice.call(a)},getCloneNodes:function(a){var b=[];if(!a)return b;for(var c=0;c<a.length;c++){var d=a[c].cloneNode(!0);b.push(d)}return b},removeChildren:function(a){for(;a.firstChild;)a.removeChild(a.firstChild)}},g={getElement:function(){return this.el}},h=Object.create(g);h.loadImages=function(){return"ciao"};var i=Object.create(h);i.build=function(a){var b=this.setLayout(a.el);this.setSlidesOffset(b),a.count=b.length,a.pointer=1,this.setupNavigation(a,"right"),this.setupNavigation(a,"left")},i.setLayout=function(a){var b=document.createDocumentFragment(),c=document.createElement("div");c.className="elba-viewport",b.appendChild(c);var d=document.createElement("div");d.className="elba-slider",c.appendChild(d);var e=f.getCloneNodes(a.children);if(e){e.unshift(e[e.length-1].cloneNode(!0)),e.push(e[1].cloneNode(!0));for(var g=0;g<e.length;g++)d.appendChild(e[g])}return f.removeChildren(a),a.appendChild(b),e},i.setSlidesOffset=function(a){for(var b=-100,c=0;c<a.length;c++)a[c].style.left=b+"%",b+=100},i.setupNavigation=function(a,b){var c="http://www.w3.org/2000/svg",d=document.createElement("a");if(d.className="elba-"+b+"-nav","left"===b){var e=document.createElementNS(c,"svg");e.setAttribute("viewBox","0 0 100 100");var f=document.createElementNS(c,"path");f.setAttribute("d","M 50,0 L 60,10 L 20,50 L 60,90 L 50,100 L 0,50 Z"),f.setAttribute("transform","translate(15,0)"),f.setAttribute("class","elba-svg-arrow"),e.appendChild(f),d.appendChild(e)}else{var g=document.createElementNS(c,"svg");g.setAttribute("viewBox","0 0 100 100");var h=document.createElementNS(c,"path");h.setAttribute("d","M 50,0 L 60,10 L 20,50 L 60,90 L 50,100 L 0,50 Z"),h.setAttribute("class","elba-svg-arrow"),h.setAttribute("transform","translate(85,100) rotate(180)"),g.appendChild(h),d.appendChild(g)}a.navigation[b]=d,a.el.appendChild(a.navigation[b])};var j=Object.create(i);j.bindEvents=function(){console.log("events binding")};var k=Object.create(j),l=Object.create(k);return l.setup=function(b){for(var c=f.makeArray(b),g=0;g<c.length;g++){d++;var h=new a;c[g].setAttribute("data-elba-id",d),e[d]=h,h.el=c[g],this.build(h)}return this.bindEvents(),this},l.init=function(a,b){if("undefined"==typeof a)throw new Error;var c={selector:".elba",separator:"|",breakpoints:!1,successClass:"elba-loaded",errorClass:"elba-error",container:"elba-wrapper",src:"data-src",error:!1,success:!1,duration:700,easing:"easeInOutSine",navigation:!0,dots:!0,dotsContainer:!1,slideshow:8e3,preload:1,swipeThreshold:60};return this.settings=f.extend(c,b),this.setup(a)},l.goTo=function(){},l});